(()=>{"use strict";var e,t,o,r,n={497:(e,t,o)=>{o.a(e,(async(e,t)=>{try{const o=secrets.API_KEY;let r;const n={method:"GET",redirect:"follow",mode:"cors"};function a(){let e,t,r=`apiKey=${o}`;try{Object.keys(localStorage).includes("ipLocation")?console.log("true 1: "):(console.log("false 1"),fetch(`https://api.ipgeolocation.io/ipgeo?${r}`,n).then((e=>e.json())).then((t=>{e=t,console.log("startingLocation",e)})).then((()=>t=c(e))).then((()=>localStorage.setItem("ipLocation",JSON.stringify(t)))).then((()=>i(t))).then((()=>localStorage.setItem("savedLocation",JSON.stringify(t)))).catch((e=>console.error(e))))}catch(e){console.log("error: ",e)}}function c(e){return e.city}function i(e){let t,o,r=`name=${e.replace(/\W/g,"+")}`;try{if(Object.keys(localStorage).includes("savedLocation")){let a=JSON.parse(localStorage.getItem("savedLocation"));a===e?console.log("comparing 1",a,e):(console.log("comparing 2",a,e),localStorage.setItem("savedLocation",JSON.stringify(e)),console.log("newlySaved: ",JSON.parse(localStorage.getItem("savedLocation"))),fetch(`https://geocoding-api.open-meteo.com/v1/search?${r}&count=10&language=en&format=json`,n).then((e=>e.json())).then((e=>{t=e,console.log("results: ",t)})).then((()=>{o=s(t),console.log("listed: ",o)})).then((()=>localStorage.setItem("GeoCodedList",JSON.stringify(o)))).catch((e=>console.error(e))))}}catch(e){console.error("error",e)}}function s(e){let t=["name","admin1","country_code","timezone","latitude","longitude"],o=e.results,r=[];return o.forEach((e=>{let o={};Object.keys(e).forEach((r=>{t.includes(r)&&(o[`${r}`]=`${e[`${r}`]}`)})),r.push(o)})),r}function l(e){try{if(Object.keys(localStorage).includes("GeoCodedList")){let t=JSON.parse(localStorage.getItem("GeoCodedList"))[e];return localStorage.setItem("selectedLocation",JSON.stringify(t)),console.log("city",JSON.stringify(t)),t}}catch(e){console.log("error",e)}}function p(e){let t,o=`latitude=${e.latitude}`,r=`longitude=${e.longitude}`;fetch(`https://api.open-meteo.com/v1/forecast?${o}&${r}&current=temperature_2m,relative_humidity_2m,apparent_temperature,precipitation,weather_code,wind_speed_10m,wind_direction_10m&daily=weather_code,temperature_2m_max,temperature_2m_min,sunrise,sunset,uv_index_max,precipitation_probability_max,wind_speed_10m_max,wind_direction_10m_dominant&temperature_unit=fahrenheit&precipitation_unit=inch&wind_speed_unit=mph&timezone=America%2FLos_Angeles&forecast_days=4`,n).then((e=>e.json())).then((e=>{t=e,console.log("conditions now: ",t)})).catch((e=>console.log("error",e)))}a(),i("Lake Forest"),r=await l(0),p(r),console.log("mySelection: ",r),t()}catch(d){t(d)}}),1)}},a={};function c(e){var t=a[e];if(void 0!==t)return t.exports;var o=a[e]={exports:{}};return n[e](o,o.exports,c),o.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",o="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},c.a=(n,a,c)=>{var i;c&&((i=[]).d=-1);var s,l,p,d=new Set,u=n.exports,m=new Promise(((e,t)=>{p=t,l=e}));m[t]=u,m[e]=e=>(i&&e(i),d.forEach(e),m.catch((e=>{}))),n.exports=m,a((n=>{var a;s=(n=>n.map((n=>{if(null!==n&&"object"==typeof n){if(n[e])return n;if(n.then){var a=[];a.d=0,n.then((e=>{c[t]=e,r(a)}),(e=>{c[o]=e,r(a)}));var c={};return c[e]=e=>e(a),c}}var i={};return i[e]=e=>{},i[t]=n,i})))(n);var c=()=>s.map((e=>{if(e[o])throw e[o];return e[t]})),l=new Promise((t=>{(a=()=>t(c)).r=0;var o=e=>e!==i&&!d.has(e)&&(d.add(e),e&&!e.d&&(a.r++,e.push(a)));s.map((t=>t[e](o)))}));return a.r?l:c()}),(e=>(e?p(m[o]=e):l(u),r(i)))),i&&i.d<0&&(i.d=0)},c(497)})();
//# sourceMappingURL=bundle.js.map